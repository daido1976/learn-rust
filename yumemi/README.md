# yumemi

- [【新卒・中途採用】サーバーサイドエンジニア応募者向けの模試 \| ゆめみ](https://www.yumemi.co.jp/serverside_recruit)
  - Also see. [ゆめみ新卒が自社のコーディング試験の模試を解いてみた（Golang）](https://zenn.dev/foolishell/articles/589536ec741ddd)

## 概要

あなたは、ある e-sports 大会で集められたゲームのプレイログをもとに、ランキング上位 10 人を算出することになりました。
このランキングを算出する CLI プログラムの開発をしてください。

## ゲームのプレイログの構造

プレイログは 3 列の CSV ファイルとして提供されます。
1 行目は、ヘッダとして create_timestamp,player_id,score と記載されています。
プレイログは 2 行目以降に記録されており、1 行目のヘッダーの各項目に対応したデータが記載されています。
player_id はゲームにエントリしているプレイヤーごとに一つづつ払い出された個別の ID で、この ID が異なると別のプレイヤーと見做します。
player_id の構成要素はアルファベットの大文字、小文字、および数字の 0-9 のみとなります。
score は正の整数となります。
同一のプレイヤーが複数回のプレイを実施したときには、複数行のログが記録されます。
対象のプレイログ全体は数千万行以上に肥大化することがあります。
プレイヤーの総数は 1 万人を超えることはありません。

## ゲームのプレイログサンプル

```
create_timestamp,player_id,score
2021/01/01 12:00,player0001,12345
2021/01/02 13:00,player0002,10000
2021/01/03 12:00,player0021,100
2021/01/04 12:10,player0031,200
2021/01/05 12:00,player0041,300
```

## 入力ルール

CLI アプリケーションは 1 つの引数を受け取る
上記の引数は処理対象のゲームプレイログを示すファイル名である

## 出力ルール

各プレイヤーにおける、全てのプレイの平均点を利用したランキングを算出して、その上位 10 名を出力してください。
出力は 3 列の CSV 形式とする
1 行目はヘッダとして、rank,player_id,mean_score を出力する
上記ヘッダに準じて 2 列目以降を出力する
rank の項目には平均スコア上位から 1,2,3,…の数字が割り当てられる
平均スコアは四捨五入で整数で丸められる
同点の平均スコアのプレイヤーが居た場合、ranking の数字は同じ数字が割り当てられる
同点の平均スコアのプレイヤーが居た場合において、10 名以上のランキングが作られる事がある

## 入出力例

```
$ ./get_ranking game_score_log.csv
rank,player_id,mean_score
1,player0001,10000
1,player0002,10000
3,player0003,9000
4,player0004,7000
5,player0005,1000
6,player0006,999
7,player0007,998
8,player0008,997
9,player0009,990
9,player0010,990
9,player0011,990
9,player0012,990
```
